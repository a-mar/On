%Bar graph Water abstractions per capita (m3/capita)
%data from http://dx.doi.org/10.1787/factbook-2014-en

\pgfplotstableread[header=false, col sep=comma]{
840,OECD Total
110,Slovakia
120,Denmark
140,UK
170,Ireland
180,Czech Republic
180,Israel
290,Sweden
310,Poland
400,Germany
410,Slovenia
530,France
540,Hungary
570,Belgium
630,Australia
640,{Japan, Netherlands, Norway, Turkey}
730,Spain
750,Mexico
850,Greece
870,Portugal
1150,Canada
1190,{\nzed}
1400,Estonia
}\waterabstraction

\begin{tikzpicture}
  \begin{axis}[
    embarplot,
    cycle list name=embarplottwo,
    bar width = 10pt,
    y=0.51cm,
    width=268pt,
    height=418.25pt,
    ytick=data,
    yticklabels from table={\waterabstraction}{1},
    xmin=0, xmax=1400,
    enlarge y limits={abs=0.7},
    yticklabels from table={\waterabstraction}{1},
    xlabel=\fnine{Water abstraction per capita (m\txup{3}\,cap\txup{-1})},
    nodes near coords=\pgfmathprintnumber{\pgfplotspointmeta}, 
    every node near coord/.style={cwcdblue,
    /pgf/number format/assume math mode=true,
    /pgf/number format/fixed,
    /pgf/number format/fixed zerofill,
    /pgf/number format/precision=0,
    /pgf/number format/1000 sep={},
    font=\scriptsize},
    ]
    \addplot table [
     y expr=-\coordindex, % Use negative coordinate index as y coordinate
     x index=0 % Use first column as x coordinate
        ] {\waterabstraction};
    \end{axis}
\end{tikzpicture}
